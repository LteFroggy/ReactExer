# Github UI에서 표시될 워크플로우 이름
name: Discord Webhook on Push

# 이벤트 트리거 설정
on:
  workflow_run:
    workflows: ["Mac SSH 파일 복사"]
    types:
      - completed

# 실행할 작업
jobs:
  notify-discord:
    runs-on: ubuntu-latest   # 실행 OS 환경 지정!
    steps:
      - name: Send Discord Webhook    # 선택적이다. Job의 이름을 지정한다.
        run: |
          curl -H "Content-Type: application/json" \
               -X POST \
               -d '{"content":"🚀 `${{ github.ref_name }}` 브랜치에 코드가 푸시되었습니다!"}' \
               ${{ secrets.DISCORD_WEBHOOK_URL }}